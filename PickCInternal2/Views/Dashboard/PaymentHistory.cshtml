@model PickC.Services.DTO.PaymentHistory
@using PickC.Internal2.HtmlHelpers
@{
    ViewBag.Title = "PaymentHistory";
    Layout = "~/Views/Shared/_Layout.cshtml";
    //WebGrid grid =
    //   new WebGrid(Model.booking, rowsPerPage: 10, selectionFieldName: "selectedRow", ajaxUpdateContainerId: "grid");
}
@section seccss{
    <link href="@Url.Content("~/Css/bootstrap-datetimepicker.css")" rel="stylesheet" />
    <link href="~/Css/jquery.dataTables.min.css" rel="stylesheet" />
}
<section class="content">
    <div class="row">
        <div class="col-md-12">
            @{ Html.RenderPartial("DashboardMenuList"); }
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <div class="tab-main-content">
            </div>
        </div>
    </div>

    <div class="row" style="margin:10px 0 0 10px;">
@using (Html.BeginForm("PaymentHistory", "Dashboard", FormMethod.Post, new { id = "frmPaymentHistory", name = "frmPaymentHistory" }))
{
        <div class="col-md-2">
            <div class="form-group">
                <label>Date From</label>
                <div class="input-group dtCss">
                    @Html.TextBoxFor(x => x.paymentsearch.datefrom, new { @id = "startDate", @class = "form-control" })
                    <span class="input-group-btn">
                        <button type="button" class="btn btn-default"><i class="fa fa-calendar" aria-hidden="true"></i></button>
                    </span>
                </div>
            </div>
        </div>
        <div class="col-md-2">
            <div class="form-group">
                <label>Date To</label>
                <div class="input-group dtCss">
                    @Html.TextBoxFor(x => x.paymentsearch.dateto, new { @id = "enddate", @class = "form-control", })
                    <span class="input-group-btn">
                        <button type="button" class="btn btn-default"><i class="fa fa-calendar" aria-hidden="true"></i></button>
                    </span>
                </div>
            </div>
        </div>
        <div class="col-md-2">
            <button type="submit" id="btnSearch" class="btn btn-primary" style="margin-top:25px;"><i class="fa fa-search"></i>Search </button>
        </div>
            }
    </div>

    <div class="accordion">
    <div class="accordion-section">
        @*<button class="btn btn-default btn-sm btn-them " type="button" onclick=""></button>*@
        <a class="accordion-section-title btn btn-default btn-sm btn-them" href="#accordion-1">TOTAL AMOUNT RECEIVED FROM CUSTOMER</a>
        <div id="accordion-1" class="accordion-section-content">
            <div class="box-body">
                <div class="row">
                    <div class="col-md-12">
                        <table  id="Accordian_customerDetails" class="table table-hover table-bordered">
                            <thead>
                                <tr>
                                    <th>Invoice No.</th>
                                    <th>Invoice Date</th>
                                    <th>Invoice Amount</th>
                                    <th>GST</th>
                                    <th>Total Amount</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach(var item in Model.customerdetails)
                                {
                                    <tr>
                                        <td>@Html.DisplayFor(i => item.InvoiceNo)</td>
                                        <td>@Html.DisplayFor(i => item.InvoiceDate)</td>
                                        <td>@Html.DisplayFor(i => item.InvoiceAmount)</td>
                                        <td>@Html.DisplayFor(i => item.GST)</td>
                                        <td>@Html.DisplayFor(i => item.TotalAmount)</td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
        <div class="accordion">
            <div class="accordion-section">
                <a class="accordion-section-title btn btn-default btn-sm btn-them" href="#accordion-2">PICK - C COMISSION</a>
                <div id="accordion-2" class="accordion-section-content">
                  <div class="box-body">
                    <div class="row">
                        <div class="col-md-12">
                            <table  id="Accordian_pickcCommision" class="table table-hover table-bordered">
                                <thead>
                                    <tr>
                                        <th>Invoice No.</th>
                                        <th>Invoice Date</th>
                                        <th>Invoice Amount</th>
                                        <th>GST</th>
                                        <th>PickC Commission</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var item in Model.pickCCommissiondetails)
                                    {
                                    <tr>
                                        <td>@Html.DisplayFor(i=>item.InvoiceNo)</td>
                                        <td>@Html.DisplayFor(i => item.InvoiceDate)</td>
                                        <td>@Html.DisplayFor(i => item.InvoiceAmount)</td>
                                        <td>@Html.DisplayFor(i => item.GST)</td>
                                        <td>@Html.DisplayFor(i => item.PickcCommision)</td>
                                    </tr>
                                    }
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
               </div>
            </div>
        </div>
        <div class="accordion">
            <div class="accordion-section">
                <a class="accordion-section-title btn btn-default btn-sm btn-them" href="#accordion-3">DRIVER COMISSION</a>
                <div id="accordion-3" class="accordion-section-content">
                    <div class="box-body">
                        <div class="row">
                            <div class="col-md-12">
                                <table  id="Accordian_DriverCommision" class="table table-hover table-bordered">
                                    <thead>
                                        <tr>
                                            <th>Driver Name</th>
                                            <th>Vehicle No.</th>
                                            <th>TripID</th>
                                            <th>Driver Commission</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach (var item in Model.driverCommissiondetails)
                                        {
                                        <tr>
                                            <td>@Html.DisplayFor(i=>item.DriverName)</td>
                                            <td>@Html.DisplayFor(i => item.VehicleNo)</td>
                                            <td>@Html.DisplayFor(i => item.TripId)</td>
                                            <td>@Html.DisplayFor(i => item.driverCommission)</td>
                                        </tr>
                                        }
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="accordion">
            <div class="accordion-section">
                <a class="accordion-section-title btn btn-default btn-sm btn-them" href="#accordion-4">CANCELLATION CHARGES COLLECTED</a>
                <div id="accordion-4" class="accordion-section-content">
                    <div class="box-body">
                        <div class="row">
                            <div class="col-md-12">
                                <table  id="Accordian_DriverCommision" class="table table-hover table-bordered">
                                    <thead>
                                        <tr>
                                            <th>Driver Name</th>
                                            <th>Vehicle No.</th>
                                            <th>Trip ID</th>
                                            <th>Driver Commission</th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

</section>
@section secscripts{
    <script src="@Url.Content("~/Scripts/jquery.validate.js")"></script>
    <script src="@Url.Content("~/Scripts/moment-with-locales.js")"></script>
    <script src="@Url.Content("~/Scripts/bootstrap-datetimepicker.js")"></script>
    <script src="@Url.Content("~/Scripts/jquery.dataTables.min.js")"></script>
    <script src="@Url.Content("~/Scripts/jquery-ui.js")"></script>

    <script type="text/javascript">
        $(function () {
            $('#paymentHistory').parent().addClass('active');
        });

        $('.dtCss').datetimepicker({
            icons: {
                time: 'fa fa-clock-o',
                date: 'fa fa-calendar',
                up: 'fa fa-arrow-up',
                down: 'fa fa-arrow-down',
                previous: 'fa fa-arrow-left',
                next: 'fa fa-arrow-right'
            },
            format: 'DD/MM/YYYY'
            //  Datefrom: monthStartDay
        });

        $('#frmBookingHistory').validate({
            rules: {
                'paymentsearch.datefrom': {
                    required: true
                },
                'paymentsearch.dateto': {
                    required: true
                }
            }
        });

        $(document).ready(function () {
            $('#accordion').accordion();
            $('#Accordian_customerDetails').dataTable();
            $('#Accordian_pickcCommision').dataTable();
            $('#Accordian_DriverCommision').dataTable();
            
        });

        $(document).ready(function () {
 
         function close_accordion_section() {
       
          $('.accordion .accordion-section-title').removeClass('active');
          $('.accordion .accordion-section-content').slideUp(300).removeClass('open');
        }

        $('.accordion-section-title').click(function (e) {
     
          // Grab current anchor value
          var currentAttrValue = $(this).attr('href');

          if ($(e.target).is('.active')) {
              close_accordion_section();
          } else {
              close_accordion_section();

              // Add active class to section title
              $(this).addClass('active');
              // Open up the hidden content panel
              $('.accordion ' + currentAttrValue).
                  slideDown(300).addClass('open');
          }

      });
  });

    </script>
    }
<style>
.accordion, .accordion * {
    -webkit-box-sizing:border-box;
    -moz-box-sizing:border-box;
    box-sizing:border-box;
}

.accordion {
    overflow:hidden;
    box-shadow:0px 1px 3px rgba(0,0,0,0.25);
    border-radius:3px;
    background:#f7f7f7;
}

.accordion-section-title {
    width:100%;
    padding:15px;
    display:inline-block;
    border-bottom:1px solid #1a1a1a;
    background:#333;
    transition:all linear 0.15s;
    margin: 0 0 30px 0;
    font-size:1.200em;
    text-shadow:0px 1px 0px #1a1a1a;
    color:yellow;
}

.accordion-section-title:active, .accordion-section-title:hover,.accordion-section-title:focus {
        background-color: rgb(236, 236, 58);
    text-decoration:none;
}

.accordion-section:last-child .accordion-section-title {
    border-bottom:none;
}


.accordion-section-content {
    padding:15px;
    display:none;
}

 </style>
